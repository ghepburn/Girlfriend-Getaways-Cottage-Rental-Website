(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,n){e.exports=n(61)},37:function(e,t,n){},38:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(30),s=n.n(l),i=(n(37),n(1)),u=n(2),o=n(4),c=n(3),h=n(8),m=n(5),d=(n(38),n(10)),b=n.n(d),p=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"setupAxiosAuthenticationInterceptors",value:function(e){var t=this.createJwtToken(e);b.a.interceptors.request.use((function(e){return e.headers.authorization=t,e}))}},{key:"setupAxiosInitialInterceptors",value:function(){b.a.interceptors.request.use((function(e){return e.headers["Content-Type"]="application/json",e}))}},{key:"post",value:function(e,t){return b.a.post(e,t)}},{key:"get",value:function(e){return b.a.get(e)}},{key:"put",value:function(e,t){return b.a.put(e,t)}},{key:"createJwtToken",value:function(e){return"Bearer "+e}}]),e}()),E=new(function(){function e(){Object(i.a)(this,e),this.authenticationApiEndpoint="/api/authenticate",this.authorizationApiEndpoint="/api/authorities",this.registrationApiEndpoint="/api/users",this.inMemoryToken=null,this.isAdmin=!1,this.isEnabled=!1,this.successMessage="SUCCESS. You Are Logged In.",this.failMessage="Fail.  Please Try Again."}return Object(u.a)(e,[{key:"authenticateUser",value:function(e,t){var n={username:e,password:t};return p.post(this.authenticationApiEndpoint,n)}},{key:"loginUser",value:function(e){this.isEnabled="true"===e.data.enabled,this.isEnabled&&(this.inMemoryToken=e.data.jwt,this.isAdmin="true"===e.data.admin,p.setupAxiosAuthenticationInterceptors(this.inMemoryToken))}},{key:"logoutUser",value:function(){this.inMemoryToken=null,this.isAdmin=!1}},{key:"isUserLoggedIn",value:function(){return null!=this.inMemoryToken}},{key:"isAdminLoggedIn",value:function(){return this.isAdmin}},{key:"createUser",value:function(e,t,n,a,r,l){var s={username:e,firstName:t,lastName:n,email:a,password:r,address:{houseNumber:"",street:"default",town:"default",postalCode:"default",province:"Ontario",country:"Canada"}};return p.post(this.registrationApiEndpoint,s)}},{key:"getSuccessMessage",value:function(){return this.successMessage}},{key:"getFailMessage",value:function(){return this.failMessage}}]),e}()),g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return E.isUserLoggedIn()?r.a.createElement(m.b,{component:this.props.component}):r.a.createElement(m.a,{to:"/login"})}}]),n}(a.Component),f=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return E.isAdminLoggedIn()?r.a.createElement(m.b,{component:this.props.component}):r.a.createElement(m.a,{to:"/login"})}}]),n}(a.Component),v=(new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"initialConfig",value:function(){p.setupAxiosInitialInterceptors()}}]),e}()),n(7)),y=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={showNav:!1},a.toggleNav=a.toggleNav.bind(Object(v.a)(a)),a}return Object(u.a)(n,[{key:"toggleNav",value:function(){this.setState((function(e){return{showNav:!e.showNav}}))}},{key:"render",value:function(){return r.a.createElement("nav",{id:"primary-nav"},r.a.createElement("ul",null,r.a.createElement(h.b,{to:"/"},r.a.createElement("li",null,"Home")),r.a.createElement(h.b,{to:"/about"},r.a.createElement("li",null,"About")),r.a.createElement(h.b,{to:"/register"},r.a.createElement("li",null,"Register")),r.a.createElement(h.b,{to:"/login"},r.a.createElement("li",null,"Login")),r.a.createElement(h.b,{to:"/logout"},r.a.createElement("li",null,"Logout")),r.a.createElement(h.b,{to:"/account"},r.a.createElement("li",null,"Account")),r.a.createElement(h.b,{to:"/admin"},r.a.createElement("li",null,"Admin")),r.a.createElement(h.b,{to:"/availabillity"},r.a.createElement("li",null,"Availabillity"))))}}]),n}(a.Component),k=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,"Footer")}}]),n}(a.Component),O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement("br",null))}}]),n}(a.Component),j=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,"About Page")}}]),n}(a.Component),w=n(16),C=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={username:null,firstName:null,lastName:null,email:null,password:null,confirmPassword:null,showFailMessage:!1,showSuccessMessage:!1,showValdiationMessage:!1},a.registerClicked=a.registerClicked.bind(Object(v.a)(a)),a.handleChange=a.handleChange.bind(Object(v.a)(a)),a}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"registerClicked",value:function(){var e=this;E.createUser(this.state.username,this.state.firstName,this.state.lastName,this.state.email,this.state.password,this.state.confirmPassword).then((function(t){e.setState({showSuccessMessage:!0}),e.setState({showFailMessage:!1})})).catch((function(){e.setState({showSuccessMessage:!1}),e.setState({showFailMessage:!0}),console.log("Failed User Creation")}))}},{key:"render",value:function(){var e=this.state.showFailMessage?"FAILED":"",t=this.state.showSuccessMessage?"SUCCESS":"";return r.a.createElement("div",null,r.a.createElement("h1",null,"Register Page"),r.a.createElement("br",null),e,t,r.a.createElement("br",null),"Username: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"First Name: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"firstName",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Last Name: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"lastName",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Email: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Password: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"password",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Confirm Password: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"confirmPassword",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.registerClicked},"Register"))}}]),n}(a.Component),U=new(function(){function e(){Object(i.a)(this,e),this.loginSuccessMessage="You Are Logged In!",this.loginFailureMessage="Login Incomplete. Please check your username and password and try again.",this.paramLengthErrorMessage="character length error"}return Object(u.a)(e,[{key:"validateUserRegistration",value:function(e,t,n,a,r,l){}},{key:"getLoginSuccessMessage",value:function(){return this.loginSuccessMessage}},{key:"getLoginFailureMessage",value:function(){return this.loginFailureMessage}}]),e}()),M=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={username:null,password:null,showFailMessage:!1,showSuccessMessage:!1},a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.loginClicked=a.loginClicked.bind(Object(v.a)(a)),a}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"loginClicked",value:function(){var e=this;E.authenticateUser(this.state.username,this.state.password).then((function(t){E.loginUser(t),e.setState({showFailMessage:!1}),e.setState({showSuccessMessage:!0})})).catch((function(){e.setState({showFailMessage:!0}),e.setState({showSuccessMessage:!1})}))}},{key:"render",value:function(){var e=this.state.showFailMessage?U.getLoginFailureMessage():" ",t=this.state.showSuccessMessage?U.getLoginSuccessMessage():" ";return r.a.createElement("div",null,r.a.createElement("h2",null,"Login Page"),e,t,r.a.createElement("br",null),"Username:",r.a.createElement("input",{type:"text",name:"username",onChange:this.handleChange}),r.a.createElement("br",null),"Password:",r.a.createElement("input",{type:"text",name:"password",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.loginClicked},"Login"))}}]),n}(a.Component),S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return E.logoutUser(),r.a.createElement(m.a,{to:"/"})}}]),n}(a.Component),A=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,"Account Page")}}]),n}(a.Component),N=new(function(){function e(){Object(i.a)(this,e),this.roleApiEndpoint="/api/authorities/"}return Object(u.a)(e,[{key:"getEditRoleApiEndpoint",value:function(e){return this.roleApiEndpoint+e}},{key:"makeUserAdmin",value:function(e,t,n){if("ROLE_ADMIN"!=t){var a={username:e,role:"ROLE_ADMIN",enabled:n};return p.put(this.getEditRoleApiEndpoint(e),a)}}},{key:"makeUserUser",value:function(e,t,n){if("ROLE_USER"!=t){var a={username:e,role:"ROLE_USER",enabled:n};return p.put(this.getEditRoleApiEndpoint(e),a)}}},{key:"disableUser",value:function(e,t,n){if("true"==n){var a={username:e,role:t,enabled:"false"};return p.put(this.getEditRoleApiEndpoint(e),a)}}},{key:"enableUser",value:function(e,t,n){if("false"==n){var a={username:e,role:t,enabled:"true"};return p.put(this.getEditRoleApiEndpoint(e),a)}}}]),e}()),L=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={username:"",firstName:"",lastName:"",email:"",role:"",enabled:"",showSuccessMessage:!1,successMessage:"Change Made Successfully!"},a.makeUserAdmin=a.makeUserAdmin.bind(Object(v.a)(a)),a.makeUserUser=a.makeUserUser.bind(Object(v.a)(a)),a.disableUser=a.disableUser.bind(Object(v.a)(a)),a.enableUser=a.enableUser.bind(Object(v.a)(a)),a}return Object(u.a)(n,[{key:"makeUserAdmin",value:function(){var e=this;N.makeUserAdmin(this.props.role.username,this.props.role.role,this.props.role.enabled).then((function(){e.setState({showSuccessMessage:!0})})).catch()}},{key:"makeUserUser",value:function(){var e=this;N.makeUserUser(this.props.role.username,this.props.role.role,this.props.role.enabled).then((function(){e.setState({showSuccessMessage:!0})})).catch()}},{key:"disableUser",value:function(){var e=this;N.disableUser(this.props.role.username,this.props.role.role,this.props.role.enabled).then((function(){e.setState({showSuccessMessage:!0})})).catch()}},{key:"enableUser",value:function(){var e=this;N.enableUser(this.props.role.username,this.props.role.role,this.props.role.enabled).then((function(){e.setState({showSuccessMessage:!0})})).catch()}},{key:"render",value:function(){var e=this.state.showSuccessMessage?r.a.createElement("tr",null,r.a.createElement("td",null,this.state.successMessage)):"";return r.a.createElement("div",null,e,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:this.makeUserAdmin},"Make Admin")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.makeUserUser},"Make User")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.disableUser},"Disable")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.enableUser},"Enable"))))}}]),n}(a.Component),F=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={role:"",enabled:"",showEditUser:!1,showEditUserRole:!1,availableAction:"Edit",display:!1},a.showEditUser=a.showEditUser.bind(Object(v.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.links.filter((function(e){return"authority"==e.rel})).pop().href;b.a.get(t).then((function(t){e.setState({role:t.data.role}),e.setState({enabled:t.data.enabled})}))}},{key:"showEditUser",value:function(){this.state.showEditUser?this.setState({availableAction:"Edit"}):this.setState({availableAction:"Close"}),this.setState({showEditUser:!this.state.showEditUser})}},{key:"render",value:function(){var e=this.state.showEditUser?r.a.createElement(L,{user:this.props.user,role:this.state.role}):" ";return r.a.createElement("div",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.user.username),r.a.createElement("td",null,this.props.user.firstName),r.a.createElement("td",null,this.props.user.lastName),r.a.createElement("td",null,this.props.user.email),r.a.createElement("td",null,this.state.role),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.showEditUser},this.state.availableAction))),e)}}]),n}(a.Component),I=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.users.map((function(e){return r.a.createElement(F,{user:e})}));return r.a.createElement("table",null,r.a.createElement("body",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null)),e))}}]),n}(a.Component),R=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.member.firstName),r.a.createElement("td",null,this.props.member.lastName),r.a.createElement("td",null,this.props.member.email))}}]),n}(a.Component),P=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={booking:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.a.get(this.props.getaway._links.booking.href).then((function(t){return e.setState({booking:t.data})}))}},{key:"render",value:function(){var e=this.props.getaway.details.members.map((function(e){return r.a.createElement(R,{member:e})}));return r.a.createElement("tr",null,r.a.createElement("td",null,this.state.booking.startDate),r.a.createElement("td",null,this.state.booking.endDate),r.a.createElement("td",null,this.state.booking.bookedDate),r.a.createElement("td",null,this.props.getaway.details.numOfVehicles),r.a.createElement("td",null,this.props.getaway.details.numOfPets),r.a.createElement("td",null,e),r.a.createElement("td",null,this.props.getaway.details.desc))}}]),n}(a.Component),D=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.getaways.map((function(e){return r.a.createElement(P,{getaway:e})}));return r.a.createElement("table",null,r.a.createElement("body",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Start Date"),r.a.createElement("th",null,"End Date"),r.a.createElement("th",null,"Booked Date"),r.a.createElement("th",null,"numOfVehicles"),r.a.createElement("th",null,"numOfCars"),r.a.createElement("th",null,"Members"),r.a.createElement("th",null,"desc")),e))}}]),n}(a.Component),x=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={users:[],getaways:[],authorities:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/users").then((function(t){console.log(t),e.setState({users:t.data})})),b.a.interceptors.response.use((function(e){console.log(e.request_header)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin Page"),r.a.createElement("div",null,r.a.createElement("h3",null,"Active Users Baby"),r.a.createElement(I,{users:this.state.users})),"// ",r.a.createElement("div",null,"//  ",r.a.createElement("h3",null,"Getaways"),"//  ",r.a.createElement(D,{getaways:this.state.getaways}),"// "))}}]),n}(a.Component),T=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,"Availabillity Page")}}]),n}(a.Component),_=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("header",null,r.a.createElement(y,null)),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/about"},r.a.createElement(j,null)),r.a.createElement(m.b,{path:"/availabillity"},r.a.createElement(T,null)),r.a.createElement(m.b,{path:"/register"},r.a.createElement(C,null)),r.a.createElement(m.b,{path:"/login"},r.a.createElement(M,null)),r.a.createElement(m.b,{path:"/logout"},r.a.createElement(S,null)),r.a.createElement(g,{component:A,path:"/account"},r.a.createElement(A,null)),r.a.createElement(f,{component:x,path:"/admin"},r.a.createElement(x,null)),r.a.createElement(m.b,{path:"/"},r.a.createElement(O,null))),r.a.createElement("footer",null,r.a.createElement(k,null)))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.32ecdc20.chunk.js.map